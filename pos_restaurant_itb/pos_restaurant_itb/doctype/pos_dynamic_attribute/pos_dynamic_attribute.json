{
  "doctype": "DocType",
  "name": "POS Dynamic Attribute",
  "module": "pos_restaurant_itb",
  "creation": "2025-04-06 14:02:30",
  "modified": "2025-04-06 14:02:30",
  "modified_by": "dannyaudian",
  "owner": "PT. Innovasi Terbaik Bangsa",
  "custom": 0,
  "istable": 1,
  "editable_grid": 1,
  "track_changes": 1,
  "fields": [
    {
      "fieldname": "attribute_name",
      "label": "Attribute",
      "fieldtype": "Link",
      "options": "Item Attribute",
      "reqd": 1,
      "in_list_view": 1,
      "permlevel": 0,
      "description": "Select item attribute (e.g., Size, Color, etc.)",
      "mandatory_depends_on": "eval:!doc.item_code"
    },
    {
      "fieldname": "attribute_value",
      "label": "Value",
      "fieldtype": "Link",
      "options": "Item Attribute Value",
      "reqd": 1,
      "in_list_view": 1,
      "permlevel": 0,
      "description": "Select attribute value",
      "get_query": "frappe.client.get_list('Item Attribute Value', filters={'parent': doc.attribute_name})",
      "mandatory_depends_on": "eval:!doc.item_code"
    },
    {
      "fieldname": "item_code",
      "label": "Mapped Item",
      "fieldtype": "Link",
      "options": "Item",
      "in_list_view": 1,
      "permlevel": 0,
      "description": "Optional: Map this attribute to a specific item",
      "search_index": 1
    },
    {
      "fieldname": "item_name",
      "label": "Item Name",
      "fieldtype": "Data",
      "fetch_from": "item_code.item_name",
      "read_only": 1,
      "in_list_view": 1,
      "length": 140
    },
    {
      "fieldname": "extra_price",
      "label": "Extra Price",
      "fieldtype": "Currency",
      "permlevel": 0,
      "description": "Additional cost for this attribute",
      "in_list_view": 1,
      "default": "0",
      "precision": "2"
    },
    {
      "fieldname": "parent_pos_order_item",
      "label": "POS Order Item",
      "fieldtype": "Link",
      "options": "POS Order Item",
      "reqd": 1,
      "hidden": 1,
      "search_index": 1
    }
  ],
  "permissions": [
    {
      "role": "System Manager",
      "read": 1,
      "write": 1,
      "create": 1,
      "delete": 1,
      "export": 1
    },
    {
      "role": "Outlet Manager",
      "read": 1,
      "write": 1,
      "create": 1,
      "export": 1
    },
    {
      "role": "Waiter",
      "read": 1,
      "write": 1,
      "create": 1,
      "export": 1
    },
    {
      "role": "Kitchen User",
      "read": 1,
      "export": 1
    }
  ],
  "search_fields": "attribute_name,attribute_value,item_code",
  "sort_field": "modified",
  "sort_order": "DESC",
  "title_field": "attribute_name",
  "show_title_field_in_link": 1,
  "max_attachments": 0
}